default:
  owner: 'airflow'
  depends_on_past: false
  start_date: 2025-01-01
  email_on_failure: false
  email_on_retry: false
  retries: 1
  retry_delay_sec: 300

basic_dag_factory:
  description: 'A basic workflow with Python and Bash operators via DAG Factory'
  schedule: '@daily'
  max_active_runs: 1
  catchup: false
  tags: ['example', 'basic', 'python', 'bash', 'dag-factory']

  tasks:
    start:
      operator: airflow.operators.bash.BashOperator
      bash_command: 'echo "Starting basic workflow..." && date'

    python_task:
      operator: airflow.operators.python.PythonOperator
      python_callable_name: process_data
      python_callable_file: /opt/airflow/dags/basic_dag_factory/functions.py
      dependencies: [start]

    bash_task:
      operator: airflow.operators.bash.BashOperator
      bash_command: 'echo "Running bash command..." && echo "Current directory: $(pwd)"'
      dependencies: [start]

    email_task:
      operator: airflow.operators.python.PythonOperator
      python_callable_name: send_email
      python_callable_file: /opt/airflow/dags/basic_dag_factory/functions.py
      dependencies: [python_task, bash_task]
